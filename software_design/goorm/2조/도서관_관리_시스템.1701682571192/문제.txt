도서관 관리 시스템제출완료
100점
﻿키워드: 파일 입출력, 예외 처리

문제

한 마을에 작은 도서관이 있습니다. 이 도서관은 도서의 대출과 반납을 관리하는 시스템을 개발하려고 합니다. 도서관에는 여러 회원이 있고, 각 회원은 여러 권의 도서를 대출할 수 있습니다. 도서의 정보와 회원의 정보를 관리하기 위해 동적 할당을 활용한 프로그램이 필요합니다.
도서와 회원 정보를 관리하는 프로그램을 작성하세요. 코드 예시에 작성된 구조체를 사용하여 도서와 회원 정보를 표현합니다.

프로그램은 다음과 같은 요구사항을 만족해야 합니다:
1. 사용자로부터 등록할 도서의 수를 입력받고, 각 도서의 제목, 작가, 출판년도를 입력받아 동적으로 할당된 배열에 저장합니다.
2. 사용자로부터 등록할 회원의 수를 입력받고, 각 회원의 이름과 회원번호를 입력받아 동적으로 할당된 배열에 저장합니다. 각 회원의 `borrowedBooks`와 `borrowedBookList`는 초기값으로 0 및 nullptr로 설정됩니다.
3. 사용자에게 도서 대출 또는 반납을 선택하게 하고, 대출 또는 반납을 선택한 후 해당 회원과 도서의 정보를 입력받아 처리합니다. 한 회원이 동시에 최대 5권의 도서를 대출할 수 있습니다.
4. 프로그램이 종료될 때 할당한 모든 동적 메모리를 해제합니다.

입력

첫 번째 줄에는 등록할 도서의 수(n)를 입력받는다. 이후 n개의 줄만큼 각 도서의 제목, 작가, 출판년도가 띄어쓰기로 구분되어 입력된다.

n+2번째 줄에는 등록할 회원의 수(p)를 입력받는다. 이후 p개의 줄만큼 각 회원의 이름, 회원번호가 띄어쓰기로 구분되어 입력된다.

다음 줄에 1이 입력된다면 대출이, 2가 입력되면 반납이 실행된다. 다음 두 줄에 대출할 회원, 대출할 도서의 번호가 줄바꿈으로 구분되어 입력된다.



출력

입력된 값에 따라 도서 “(도서 이름)”이(가) 회원 “(회원이름)”에게 대출(반납)되었습니다.를 출력한다.

단, 존재하지 않는 도서의 번호가 입력된 경우 “존재하지 않는 도서입니다.”를,

등록되지 않은 회원의 번호가 입력된 경우 “등록되지 않은 회원입니다.”를,

등록된 도서의 수가 0개인 경우 회원의 등록이 끝마쳐진 후 다음 입력을 기다리지 않고 “대출 가능한 도서가 없습니다.”를,

대출 또는 반납을 선택하는 상황에서 1, 2를 제외한 다른 숫자가 입력된 경우 다음 두 줄은 제대로 입력받되 “대출 또는 반납을 선택해주세요.”를 출력한다.

(각 예외케이스들은 동시에 입력되지 않는다)

입/출력 예시
:
공백
:
줄바꿈
:
탭
예시 1
입력
3
Book1TitleBook1Author2000
Book2TitleBook2Author2010
Book3TitleBook3Author2022
2
Member1Name101
Member2Name102
1
1
2
출력
도서"Book2Title"이(가)회원"Member1Name"에게대출되었습니다.
예시 2
입력
2
Book1TitleBook1Author2005
Book2TitleBook2Author2015
3
Member1Name201
Member2Name202
Member3Name203
1
2
1
출력
도서"Book1Title"이(가)회원"Member2Name"에게대출되었습니다.
예시 3
입력
4
Book1TitleBook1Author2012
Book2TitleBook2Author2018
Book3TitleBook3Author2008
Book4TitleBook4Author2021
2
Member1Name301
Member2Name302
2
1
3
출력
도서"Book3Title"이(가)회원"Member1Name"에게반납되었습니다.
⋇ 입출력 형식을 잘 지켜주세요